enums:
  Controllability: [ Controllable, NotControllable]
  Observability: [Observable, NotObservable]
  Stability: [Stable, Unstable]
  CanonicalForm: [ControllerCanonicalForm, ObserverCanonicalForm]
  Linear: [Linear, NonLinear]
  Proper: [NotProper, Proper, StrictlyProper]
  MinimumPhase: [MinimumPhase, NotMinimumPhase]
  Coprime: [Coprime, NonCoprime]
  MatrixRole: [A, B, C, D, StateFeedback, LuenbergerGain]
  TimeFunctionRole: [StateTrajectory, InputTrajectory, StateFeedback]
  TFRole: [Plant, Controller]
  Flatness: [OutputFlat, OutputNotFlat]

types:
  Real: {}
  SSNonLinear:
    params:
      StateDimension:
        type: Int
      InputDimension:
        type: Int
      Observability:
        type: Observability
      Controllability:
        type: Controllability
      Flatness:
        type: Flatness
  SSLTV:
    params:
      StateDimension:
        type: Int
      InputDimension:
        type: Int
      Observability:
        type: Observability
      Controllability:
        type: Controllability
  SSLTI:
    params:
      StateDimension:
        type: Int
      InputDimension:
        type: Int
      Stability:
        type: Stability
      CanonicalForm:
        type: CanonicalForm
      Observability:
        type: Observability
      Controllability:
        type: Controllability
  ODE:
    params:
      Order:
        type: Int
      Linear:
        type: Linear
  TF:
    params:
      Stability:
        type: Stability
      Proper:
        type: Proper
      MinimumPhase:
        type: MinimumPhase
      Coprime:
        type: Coprime
      Order:
        type: Int
      Role:
        type: TFRole
  ListEigenvalues:
    params:
      Length:
        type: Int
  PIDParameters: {}
  Matrix:
    params:
      Rows:
        type: Int
      Columns:
        type: Int
      Role:
        type: MatrixRole
  TimeFunction:
    params:
      Rows:
        type: Int
      Columns:
        type: Int
      Role:
        type: TimeFunctionRole
  ObserverFunction:
    params:
      StateDimension:
        type: Int
      InputDimension:
        type: Int
      OutputDimension:
        type: Int
  TrajectoryTrackingController:
    params:
      StateDimension:
        type: Int
      InputDimension:
        type: Int
  StepResponse: {}


methods:
  Linearization:
    inputs:
      nonLinearSystem:
        type: SSNonLinear
        params:
          StateDimension: n
    outputs:
      linearizedSystem:
        type: SSLTI
        params:
          StateDimension: n
  SSLTIToNonLinear:
    inputs:
      linearSystem:
        type: SSLTI
        params:
          StateDimension: n
    outputs:
      generalSystem:
        type: SSNonLinear
        params:
          StateDimension: n
  SSLTVToNonLinear:
    inputs:
      linearSystem:
        type: SSLTV
        params:
          StateDimension: n
    outputs:
      generalSystem:
        type: SSNonLinear
        params:
          StateDimension: n
  ToControllerCanonicalForm:
    inputs:
      ltiss:
        type: SSLTI
        params:
          Controllability: Controllable
    outputs:
      ltiss:
        type: SSLTI
        params:
          CanonicalForm: ControllerCanonicalForm
  ToObserverCanonicalForm:
    inputs:
      ltiss:
        type: SSLTI
        params:
          Observability: Observable
    outputs:
      ltiss:
        type: SSLTI
        params:
          CanonicalForm: ObserverCanonicalForm
  TestControllabilityLTI:
    inputs:
      ltiss:
        type: SSLTI
        params:
          Controllability: unset
    outputs:
      ltiss:
        type: SSLTI
        params:
          Controllability: Controllable
  TestObservabilityLTI:
    inputs:
      ltiss:
        type: SSLTI
        params:
          Observability: unset
    outputs:
      ltiss:
        type: SSLTI
        params:
          Observability: Observable
  TestControllabilityLTV:
    inputs:
      ssltv:
        type: SSLTV
        params:
          Controllability: unset
    outputs:
      ssltv:
        type: SSLTV
        params:
          Controllability: Controllable
  TestObservabilityLTV:
    inputs:
      ssltv:
        type: SSLTV
        params:
          Observability: unset
    outputs:
      ssltv:
        type: SSLTV
        params:
          Observability: Observable
  TestControllabilityNonLinear:
    inputs:
      ss:
        type: SSNonLinear
        params:
          Controllability: unset
    outputs:
      ss:
        type: SSNonLinear
        params:
          Controllability: Controllable
  TestObservabilityNonLinear:
    inputs:
      ss:
        type: SSNonLinear
        params:
          Observability: unset
    outputs:
      ss:
        type: SSNonLinear
        params:
          Observability: Observable
  TFtoSS:
    inputs:
      tf:
        type: TF
        params:
          Proper: Proper
          Order: n
    outputs:
      ltiss:
        type: SSLTI
        params:
          Controllability: Controllable
          CanonicalForm: ControllerCanonicalForm
          StateDimension: n
  SStoTF:
    inputs:
      ltiss:
        type: SSLTI
        params:
          StateDimension: n
          InputDimension: 1
    outputs:
      o:
        type: TF
        params:
          Order: n
          Role: Plant
  TestTFStability:
    inputs:
      tf:
        type: TF
        params:
          Stability: unset
    outputs:
      tf:
        type: TF
        params:
          Stability: Stable
  TestTFProperness:
    inputs:
      tf:
        type: TF
        params:
          Proper: unset
    outputs:
      tf:
        type: TF
        params:
          Proper: Proper
  TestTFCoprime:
    inputs:
      tf:
        type: TF
        params:
          Coprime: unset
    outputs:
      tf:
        type: TF
        params:
          Coprime: Coprime
  PolePlacement:
    inputs:
      ltiss:
        type: SSLTI
        params:
          StateDimension: n
          Controllability: Controllable
      poles:
        type: ListEigenvalues
        params:
          Length: n
        tune: true
    outputs:
      k:
        type: Matrix
        params:
          Rows: 1
          Columns: n
          Role: StateFeedback
  LuenbergerDesign:
    inputs:
      ltiss:
        type: SSLTI
        params:
          StateDimension: n
          Observability: Observable
      poles:
        type: ListEigenvalues
        params:
          Length: n
        tune: true
    outputs:
      k:
        type: Matrix
        params:
          Rows: n
          Columns: 1
          Role: LuenbergerGain
  AssembleLuenbergerObserver:
    inputs:
      ltiss:
        type: SSLTI
        params:
          StateDimension: n
          Observability: Observable
      k:
        type: Matrix
        params:
          Role: LuenbergerGain
    outputs:
      obs:
        type: ObserverFunction
  ODEtoSS:
    inputs:
      ode:
        type: ODE
    outputs:
      ss:
        type: SSNonLinear
  TrajectoryPlanningWithOptimization:
    inputs:
      ss:
        type: SSNonLinear
        params:
          StateDimension: n
          InputDimension: m
          Controllability: Controllable
      xstart:
        type: Matrix
        params:
          Rows: n
          Columns: 1
        tune: true
      xend:
        type: Matrix
        params:
          Rows: n
          Columns: 1
        tune: true
      tend:
        type: Real
        tune: true
    outputs:
      xtraj:
        type: TimeFunction
        params:
          Rows: n
          Columns: 1
          Role: StateTrajectory
      utraj:
        type: TimeFunction
        params:
          Rows: m
          Columns: 1
          Role: InputTrajectory
  LinearizationOnTrajectory:
    inputs:
      ss:
        type: SSNonLinear
        params:
          StateDimension: n
          InputDimension: m
          Controllability: s
      xtraj:
        type: TimeFunction
        params:
          Rows: n
          Columns: 1
          Role: StateTrajectory
      utraj:
        type: TimeFunction
        params:
          Rows: m
          Columns: 1
          Role: InputTrajectory
    outputs:
      ssltv:
        type: SSLTV
        params:
          StateDimension: n
          InputDimension: m
          Controllability: s
  LTVLQRDesign:
    inputs:
      ssltv:
        type: SSLTV
        params:
          StateDimension: n
          InputDimension: m
          Controllability: Controllable
      q:
        type: Matrix
        params:
          Rows: n
          Columns: n
        tune: true
      r:
        type: Matrix
        params:
          Rows: m
          Columns: m
        tune: true
    outputs:
      k:
        type: TimeFunction
        params:
          Rows: m
          Columns: n
          Role: StateFeedback
  LTILQRDesign:
    inputs:
      sslti:
        type: SSLTI
        params:
          StateDimension: n
          InputDimension: m
          Controllability: Controllable
      q:
        type: Matrix
        params:
          Rows: n
          Columns: n
        tune: true
      r:
        type: Matrix
        params:
          Rows: m
          Columns: m
        tune: true
    outputs:
      k:
        type: Matrix
        params:
          Rows: m
          Columns: n
          Role: StateFeedback
  EKFDesign:
    inputs:
      ss:
        type: SSNonLinear
        params:
          Observability: Observable
          StateDimension: n
          InputDimension: m
      q:
        type: Matrix
        params:
          Rows: n
          Columns: n
        tune: true
      r:
        type: Matrix
        params:
          Rows: m
          Columns: m
        tune: true
    outputs:
      obs:
        type: ObserverFunction
        params:
          StateDimension: n
          InputDimension: m
  AssembleTrajectoryTrackingController:
    inputs:
      xtraj:
        type: TimeFunction
        params:
          Role: StateTrajectory
          Rows: n
          Columns: 1
      utraj:
        type: TimeFunction
        params:
          Role: InputTrajectory
          Rows: m
          Columns: 1
      k:
        type: TimeFunction
        params:
          Role: StateFeedback
          Rows: m
          Columns: n
      obs:
        type: ObserverFunction
        params:
          InputDimension: m
          StateDimension: n
    outputs:
      controller:
        type: TrajectoryTrackingController
        params:
          StateDimension: n
          InputDimension: m
  AssemblePIDController:
    inputs:
      pidParams:
        type: PIDParameters
    outputs:
      pid:
        type: TF
        params:
          Role: Controller
  TuneZieglerNichols:
    inputs:
      stepResponse:
        type: StepResponse
    outputs:
      pidParams:
        type: PIDParameters
  TuneAbsoluteValueOptimum:
    inputs:
      tf:
        type: TF
        params:
          Role: Plant
    outputs:
      pidParams:
        type: PIDParameters
  TuneSymmetricalOptimum:
    inputs:
      tf:
        type: TF
        params:
          Role: Plant
    outputs:
      pidParams:
        type: PIDParameters
  SimulateStepResponse:
    inputs:
      tf:
        type: TF
        params:
          Role:
            Plant
    outputs:
      sr:
        type: StepResponse
